\documentclass[12pt,a4paper,twoside]{report}
\usepackage[left=3cm,right=3cm,top=3cm,bottom=3cm,headsep=0.25in, voffset= 0.0in]{geometry}
\usepackage{pagenote}

%algo packages
\usepackage{algorithm}
\usepackage{algorithmic}

%color packages
\usepackage{xcolor}
\colorlet{shadecolor}{orange!15}
\usepackage{color,soul}
\usepackage{soulutf8}
\definecolor{bordeau}{rgb}{0.3515625,0,0.234375}

% position of figure
\usepackage[absolute,overlay]{textpos}

%graphic packages
\usepackage{graphicx}
\graphicspath{ {figures/} }
\usepackage{wrapfig}
\usepackage{float} 
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{pgfplotstable}

% table packages
\usepackage{array}
\usepackage{multirow,booktabs}
\usepackage{multicol}
\usepackage{tabularx}

% font package
\usepackage[utf8]{inputenc}	% Para caracteres en español
\usepackage{textcomp}
%\usepackage{times}
%\usepackage{lmodern}
\usepackage{mathptmx}

% equation packages
\usepackage{amsmath,amsthm,amsfonts,amssymb,amscd}
\usepackage{mathrsfs}

% header, footer packages
\pagestyle{headings}

% page package
\usepackage{enumitem}
\usepackage{fancyhdr}
\fancyhf{}
\fancyhead[LE]{\nouppercase{\leftmark}}
\fancyhead[RO]{\nouppercase{\rightmark}}
\fancyfoot[LE,RO]{\thepage}
\pagestyle{fancy}
\usepackage{afterpage}
\usepackage[raggedright]{titlesec}

% space package
\usepackage{setspace}
\usepackage{calc}
\usepackage{color,soul,colortbl}
\usepackage{cancel}
\usepackage{listings}
\usepackage{titlesec}
\titlespacing*{\section}
{0pt}{1.0ex}{1.0ex}
\titlespacing*{\chapter}
{0pt}{1.5ex}{2.0ex}
\titlespacing*{\subsection}
{0pt}{1.0ex}{1.0ex}
\usepackage{xspace}

\setlength{\belowdisplayskip}{8pt} \setlength{\belowdisplayshortskip}{8pt}
\setlength{\abovedisplayskip}{8pt} \setlength{\abovedisplayshortskip}{8pt}
\setlist{nosep}
\setlength{\parskip}{0.1cm}
\setlength{\parindent}{1em}
%\renewcommand{\baselinestretch}{0.5}

% theorem commands
\theoremstyle{definition}
\newtheorem{lemma}{Lemma}[section]
\newtheorem{theorem}{Theorem}[section]
\newtheorem{proposition}{Proposition}[section]
\newtheorem{definition}{Definition}[section]

% verbatim env
\usepackage{fancyvrb}
\usepackage{spverbatim}

% reference
%\usepackage[hidelinks]{hyperref}
%% hyperlinks:
%\ifthenelse{\isundefined{\hypersetup}}{%
% 
%\usepackage[hidelinks=true,pagebackref=true,backref=true]{hyperref}
%   \renewcommand{\backrefxxx}[3]{%
%     [\hyperlink{page.#1}{cited page #1}]}
%   \urlstyle{same} % normal text font (alternatives: tt, rm, sf)
%}{}

% hyperlinks:
\ifthenelse{\isundefined{\hypersetup}}{
 
\usepackage[colorlinks=true,linkcolor=blue,urlcolor=blue,citecolor=violet,%
   citebordercolor=violet,pagebackref=true,backref=true]{hyperref}
   \urlstyle{same} % normal text font (alternatives: tt, rm, sf)
}{}

\renewcommand*{\backref}[1]{}
\renewcommand*{\backrefalt}[4]{%
     \ifcase #1%
           \or [Cited on page~#2.]%
           \else [Cited on pages~#2.]%
     \fi%
     }





% abbreviation package
\usepackage[nottoc]{tocbibind}
\usepackage[intoc]{nomencl}
\makenomenclature
\setlength{\nomlabelwidth}{2cm}
\setlength{\nomitemsep}{-1.5\parsep}
\renewcommand{\nomname}{List of Abbreviations}
\setcounter{tocdepth}{2}

%sectiondepth
\setcounter{secnumdepth}{3}

\def\altand{\&}
%%\nomenclature[⟨prefix⟩]{⟨symbol⟩}{⟨description⟩}: the prefix is used to sort the abbreviations in the printing list.

%bibliography
\usepackage{natbib}
\setlength{\bibsep}{10.0pt}

%table of content
\usepackage{tocloft}
\setlength\cftparskip{-2pt}
\setlength\cftbeforesecskip{1pt}
\setlength\cftaftertoctitleskip{2pt}

%subfigure
\usepackage{caption}
\usepackage{subcaption}

\usepackage{bm}

% new command
\def\-{\raisebox{.75pt}{-}}
\usepackage{mathtools,xparse}
\DeclarePairedDelimiter{\abs}{\lvert}{\rvert}
\DeclarePairedDelimiter{\norm}{\lVert}{\rVert}
\NewDocumentCommand{\normL}{ s O{} m }{%
  \IfBooleanTF{#1}{\norm*{#3}}{\norm[#2]{#3}}_{2}%
}
\renewcommand{\UrlFont}{\ttfamily\small}
\renewcommand{\S}{\scriptsize}
\newcommand{\R}{\mathbb{R}}
\newcommand{\vect}[1]{\boldsymbol{#1}}
\DeclareMathOperator*{\argmax}{argmax}
\DeclareMathOperator*{\argmin}{argmin}
\usepackage[draft]{todo}
\newcommand{\fyTodo}[1]{\Todo[FY:]{\textcolor{orange}{#1}}}
\newcommand{\fyTodostar}[1]{\Todo*[FY:]{\textcolor{orange}{#1}}}
\newcommand{\fyDone}[1]{\done[FY]\Todo[FY:]{\textcolor{orange}{#1}}}
\newcommand{\fyDonestar}[1]{\done[FY]\Todo[FY:]{\textcolor{orange}{#1}}}
\newcommand{\fyFuture}[1]{\done[FY]\Todo[FY:]{\textcolor{red}{#1}}}
\newcommand{\mpTodo}[1]{\Todo[MP:]{\textcolor{green}{#1}}}
\newcommand{\mpDone}[1]{\done[MP]\Todo[MP:]{\textcolor{green}{#1}}}

\usepackage{titlesec}
\pgfkeys{
    /tr/rowfilter/.style 2 args={
        /pgfplots/x filter/.append code={
            \edef\arga{\thisrow{#1}}
            \edef\argb{#2}
            \ifx\arga\argb
            \else
                \def\pgfmathresult{}
            \fi
        }
    }
}

\newenvironment{dedication}
  {\clearpage           % we want a new page
   \thispagestyle{empty}% no header and footer
   \vspace*{\stretch{1}}% some space at the top 
   \itshape             % the text is in italics
   \center          % flush to the right margin
  }
  {\par % end the paragraph
   \vspace{\stretch{3}} % space at bottom is three times that at the top
   \clearpage           % finish off the page
  }

\makeatletter
\newenvironment{breakablealgorithm}
  {% \begin{breakablealgorithm}
   \begin{center}
     \refstepcounter{algorithm}% New algorithm
     \hrule height.8pt depth0pt \kern2pt% \@fs@pre for \@fs@ruled
     \renewcommand{\caption}[2][\relax]{% Make a new \caption
       {\raggedright\textbf{\fname@algorithm~\thealgorithm} ##2\par}%
       \ifx\relax##1\relax % #1 is \relax
         \addcontentsline{loa}{algorithm}{\protect\numberline{\thealgorithm}##2}%
       \else % #1 is not \relax
         \addcontentsline{loa}{algorithm}{\protect\numberline{\thealgorithm}##1}%
       \fi
       \kern2pt\hrule\kern2pt
     }
  }{% \end{breakablealgorithm}
     \kern2pt\hrule\relax% \@fs@post for \@fs@ruled
   \end{center}
  }
\makeatother

\newcommand{\revision}[1]{\textcolor{red}{#1}}
\newcommand{\revisiondone}[1]{\textcolor{black}{#1}}
\newcommand{\revisiondel}[1]{}
\newcommand{\src}{\ensuremath{x}} % source sentence
\newcommand{\trg}{\ensuremath{y}} % target sentence
\newcommand{\domain}[1]{\texttt{\textsc{#1}}}
\newcommand{\system}[1]{\texttt{{#1}}}

\newcommand{\vlambda}{\ensuremath{\bm{\lambda}}\xspace} % parameters vector for a distribution
\newcommand{\vtheta}{\ensuremath{\bm{\theta}}\xspace} % parameters vector for a distribution
\newcommand{\vpsi}{\ensuremath{\bm{\psi}}\xspace} % parameters vector for a distribution
\newcommand{\indic}[1]{\ensuremath{\mathbb{I}(#1)}}
\newcommand{\SB}[1]{\textbf{#1}}
\newcommand{\SW}[1]{\underline{#1}}
\renewcommand\textfraction{.1}
\renewcommand\floatpagefraction{.95}
\newcommand{\sbcl}[2]{{\scriptsize #1 \hfill $|$ \hfill  #2}}
\usepackage{multirow}

%Color command
\definecolor{darkblue}{rgb}{0.0, 0.592, 0.655}
\definecolor{darkcornflowerblue}{rgb}{0.149, 0.2588, 0.5451}
\definecolor{lightorange}{rgb}{0.9961, 0.8471, 0.6941}
\definecolor{lightred}{rgb}{1.0, 0.80, 0.7961}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand\blankpage{%
    \null
    \thispagestyle{empty}%
    \addtocounter{page}{-1}%
    \newpage}

% Thesis title
\newcommand{\PhDTitle}{Multi-domain neural machine translation} 

% Name
\newcommand{\PhDname}{Minh-Quang PHAM}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\begin{document}

	\doublespacing	

    \input{layout/firstpage.tex}
        
%    \begin{dedication}
%	Dedicated to my family.
%	
%	For their endless love, support and encouragement.
%	\end{dedication}
%	
%    \input{parts/acknowledgement.tex}
    
	\input{parts/abstract.tex}	

\newpage
%\thispagestyle{empty}
\tableofcontents
%\clearpage

\newpage
%\phantomsection
%\addcontentsline{toc}{chapter}{List of Figures}
\listoffigures

\newpage
%\phantomsection
%\addcontentsline{toc}{chapter}{List of Tables}
\listoftables
\newpage
\printnomenclature
\newpage
	\onehalfspacing
	\input{parts/introduction.tex}
	\input{parts/nmt_review.tex}
	\input{parts/mdmt_review.tex}
	\input{parts/revisiting.tex}
	\input{parts/ldr.tex}
	\input{parts/mdmt_res.tex}
	\input{parts/mdac.tex}
	\input{parts/priming.tex}
	\input{parts/conclusion.tex}
\clearpage{}
{\linespread{0.7}\selectfont\bibliography{bibliography}}
\bibliographystyle{apa-good}
\clearpage{}

\appendix
	\input{parts/appendix.tex}

\end{document}


